<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <template id="acceuil_customize_beta" inherit_id="website.homepage" name="Home" active="True">
    <xpath expr="//div[@id='wrap']" position="inside">
        <div id="wrap" class="oe_structure oe_empty">
          
          <div class="position-relative">
          <form method="get" data-snippet="s_searchbar_input"
                class="home_search o_searchbar_form o_wait_lazy_js s_searchbar_input" action="/shop"
                style="width:50%">
            <div role="search" class="input-group ">
              <input type="search" name="search" class="search-query form-control oe_search_box None"
                     placeholder="Rechercherâ€¦" data-search-type="products" data-limit="5"
                     data-display-image="true"
                     data-display-description="true" data-display-extra-link="true"
                     data-display-detail="true"
                     data-order-by="name asc"/>
              <button type="submit" aria-label="Rechercher" title="Rechercher"
                      class="btn oe_search_button btn-primary">
                <i class="oi oi-search"/>
              </button>
            </div>
            <input name="order" type="hidden" class="o_search_order_by" value="name asc"/>
          </form>
          </div>

          <section data-snippet="s_dynamic_snippet_carousel"
                 class="s_dynamic_snippet_carousel s_dynamic pt16 pb72 o_colored_level s_product_product_view_detail o_dynamic_empty"
                 data-name="Carrousel dynamique" data-number-of-records="9" data-filter-id="1"
                 data-template-key="website_sale.dynamic_filter_template_product_product_view_detail"
                 data-carousel-interval="5000" data-number-of-elements="3">
          <div class="container o_not_editable">
            <div class="dynamic_snippet_template"/>
          </div>
        </section>

        <section class="s_best_sellers pt64 pb64">
      <div class="container">
        <h2 class="mb-4 text-center">Nos Best Sellers</h2>

        <t t-set="best_sellers"
           t-value="request.env['product.template'].sudo().search(
             [('website_published', '=', True)], 
             order='total_sales desc', 
             limit=4
           )"/>

        <div class="row">
          <t t-foreach="best_sellers" t-as="product">
            <div class="col-md-3 mb-4">
              <div class="card h-100 shadow-sm">

                <a t-att-href="product.website_url" class="d-block text-center">
                  <img t-att-src="'/web/image/product.template/%s/image_1920' % product.id"
                       class="card-img-top"
                       alt="Image de produit"
                       style="max-height:200px; object-fit:contain;" />
                </a>

                <div class="card-body text-center">
                  <h5 class="card-title mb-2">
                    <a t-att-href="product.website_url"
                       class="text-decoration-none text-dark">
                      <t t-esc="product.name"/>
                    </a>
                  </h5>

                  <p class="h6 mb-1">
                    <t t-esc="product.list_price"
                       t-options="{'widget': 'monetary', 'display_currency': product.currency_id}"/>
                  </p>

                  <span class="badge bg-primary">
                    <t t-esc="product.total_sales"/> vendus
                  </span>
                </div>

                <div class="card-footer bg-transparent text-center">
                  <a t-att-href="product.website_url" class="btn btn-sm btn-outline-primary">
                    Voir le produit
                  </a>
                </div>
              </div>
            </div>
          </t>
        </div>
      </div>
    </section>
      </div>
    
    </xpath>
  </template>





</odoo>